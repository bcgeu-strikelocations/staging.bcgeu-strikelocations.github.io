<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCGEU Strike Locations</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16x16.png">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="map"></div>

    <div class="info-panel">
        <h3>BCGEU Strike Locations (Oct. 6)</h3>
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color"
                    style="background-color: #0065A4; border: 3px solid #0065A4; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; width: 20px; height: 20px; line-height: 1; padding-left: 1px;">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M5.75 1C6.16421 1 6.5 1.33579 6.5 1.75V3.6L8.22067 3.25587C9.8712 2.92576 11.5821 3.08284 13.1449 3.70797L13.5582 3.87329C14.9831 4.44323 16.5513 4.54967 18.0401 4.17746C18.6711 4.01972 19.1778 4.7036 18.8432 5.26132L17.5647 7.39221C17.2232 7.96137 17.0524 8.24595 17.0119 8.55549C16.9951 8.68461 16.9951 8.81539 17.0119 8.94451C17.0524 9.25405 17.2232 9.53863 17.5647 10.1078L19.1253 12.7089C19.4361 13.2269 19.1582 13.898 18.5721 14.0445L18.472 14.0695C16.7024 14.5119 14.8385 14.3854 13.1449 13.708C11.5821 13.0828 9.8712 12.9258 8.22067 13.2559L6.5 13.6V21.75C6.5 22.1642 6.16421 22.5 5.75 22.5C5.33579 22.5 5 22.1642 5 21.75V1.75C5 1.33579 5.33579 1 5.75 1Z"
                            fill="#FFD700"></path>
                    </svg></div>
                <span>Go to the Rally (Oct 6)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #db1e2a;"></div>
                <span>Strike Location (picketed)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #ff7800;"></div>
                <span>Strike Location (not picketed)</span>
            </div>
            <div class="legend-item">
                <div class="legend-circle"></div>
                <span>30km Radius</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #0065a4;"></div>
                <span>Your Location</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #b8a967;"></div>
                <span>Postal Code Search</span>
            </div>
        </div>
        <div class="location-controls">
            <button id="get-location-btn" onclick="getUserLocation()">üìç Find My Location</button>
        </div>
        <div class="postal-search">
            <h4>Search Postal Code</h4>
            <div class="search-input-group">
                <div class="input-with-clear">
                    <input type="text" id="postal-code-input" placeholder="Postal code (e.g., V6B 1A1)" maxlength="7">
                    <button id="clear-input-btn" class="clear-input" style="display: none;">√ó</button>
                </div>
                <button id="search-postal-btn" onclick="searchPostalCode()">Search</button>
            </div>
            <div id="postal-error" class="error-message" style="display: none;"></div>
        </div>
        <div class="stats">
            <div id="location-count">Loading map...</div>
        </div>
    </div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- JavaScript Module Loader -->
    <script type="module" src="js/main.js"></script>
</body>

</html>